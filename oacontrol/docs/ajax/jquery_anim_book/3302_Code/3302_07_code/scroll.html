<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Animating Page Scroll</title>
		<link rel="stylesheet" href="css/scroll.css">
        <!--[if IE]>
			<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
	</head>
	<body>
    	<article id="post">
        	<header id="top">
	        	<h1>A long article with lots of sections</h1>
    	        <nav>
        	        <ul>
            	        <li><a href="#section1" title="Section 1">Section 1</a></li>
                	    <li><a href="#section2" title="Section 2">Section 2</a></li>
                    	<li><a href="#section3" title="Section 3">Section 3</a></li>
	                    <li><a href="#section4" title="Section 4">Section 4</a></li>
    	                <li><a href="#section5" title="Section 5">Section 5</a></li>
        	        </ul>
            	</nav>
	        	<p>Posted on <time datetime="2010-11-13">13 November 2010</time> by Dan Wellman</p>
            </header>
            <section id="section1">
	            <h1>Section 1</h1>
    	        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <a href="#top" title="Back to top" class="top">Back to top</a>
            </section>
            <section id="section2">
	            <h1>Section 2</h1>
    	        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <a href="#top" title="Back to top" class="top">Back to top</a>
            </section>
            <section id="section3">
	            <h1>Section 3</h1>
    	        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <a href="#top" title="Back to top" class="top">Back to top</a>
            </section>           
            <section id="section4">
        	    <h1>Section 4</h1>
            	<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <a href="#top" title="Back to top" class="top">Back to top</a>
            </section>
            <section id="section5">
    	        <h1>Section 5</h1>
	            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                <a href="#top" title="Back to top" class="top">Back to top</a>
            </section>
        </article>
		<script src="js/jquery.js"></script>
		<script>
			(function($){
				
				//cache parent for fast selects
				var parent = document.getElementById("post"),
					speed = 7,
					win = $(window);
				
				//attach handler to toc links
				$("nav a", parent).click(function(e) {
					
					e.preventDefault();
					
					//get offset of section link points to
					var target = $(this).attr("href"),
						offset = $(target).offset(),
						newScroll = 0,
						maxScroll = document.body.scrollHeight;						

					//incrementally scroll to element's offset
					while (newScroll < offset.top && win.scrollTop() < maxScroll) {
						
						win.scrollTop(newScroll);
						
						newScroll = newScroll + speed;
					}	
				});
				
				$(".top", parent).click(function(e) {
					
					e.preventDefault;
					
					var newScroll = win.scrollTop();

					while (newScroll > 0 && win.scrollTop() > 0) {
						
						win.scrollTop(newScroll);
						
						newScroll = newScroll - speed;
					}
				});
			})(jQuery);
		</script>
	</body>
</html>