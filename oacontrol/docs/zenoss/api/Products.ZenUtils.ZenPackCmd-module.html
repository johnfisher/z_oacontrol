<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Products.ZenUtils.ZenPackCmd</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Zenoss</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;Products ::
        <a href="Products.ZenUtils-module.html">Package&nbsp;ZenUtils</a> ::
        Module&nbsp;ZenPackCmd
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="Products.ZenUtils.ZenPackCmd-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module ZenPackCmd</h1><p class="nomargin-top"><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html">source&nbsp;code</a></span></p>
<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td class="summary" colspan="2">
        <a href="Products.ZenUtils.ZenPackCmd.NonCriticalInstallError-class.html" class="summary-name">NonCriticalInstallError</a>
    </td>
  </tr>
<tr>
    <td class="summary" colspan="2">
        <a href="Products.ZenUtils.ZenPackCmd.ZenPackCmd-class.html" class="summary-name">ZenPackCmd</a><br />
      Utilities for creating, installing, removing ZenPacks.
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#CreateZenPack" class="summary-sig-name">CreateZenPack</a>(<span class="summary-sig-arg">zpId</span>,
        <span class="summary-sig-arg">prevZenPackName</span>=<span class="summary-sig-default">''</span>)</span><br />
      Create the zenpack in the filesystem.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CreateZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="WriteSetup"></a><span class="summary-sig-name">WriteSetup</span>(<span class="summary-sig-arg">setupPath</span>,
        <span class="summary-sig-arg">values</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#WriteSetup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#CanCreateZenPack" class="summary-sig-name">CanCreateZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">zpId</span>)</span><br />
      Return tuple (bool, string) where first element is true if a new 
      zenpack can be created with the given info and false if not.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CanCreateZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#ScrubZenPackId" class="summary-sig-name">ScrubZenPackId</a>(<span class="summary-sig-arg">name</span>)</span><br />
      If the given name conforms to ZenPack naming rules, or can easily be 
      modified to do so, then return (True, scrubbedName) where 
      scrubbedName is either name or a slightly modified name.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#ScrubZenPackId">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#InstallEggAndZenPack" class="summary-sig-name">InstallEggAndZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">eggPath</span>,
        <span class="summary-sig-arg">link</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">filesOnly</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">sendEvent</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">previousVersion</span>=<span class="summary-sig-default">None</span>)</span><br />
      Installs the given egg, instantiates the ZenPack, installs in 
      dmd.ZenPackManager.packs, and runs the zenpacks's install method.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallEggAndZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#InstallEgg" class="summary-sig-name">InstallEgg</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">eggPath</span>,
        <span class="summary-sig-arg">link</span>=<span class="summary-sig-default">False</span>)</span><br />
      Install the given egg and add to the current working set.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallEgg">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#InstallDistAsZenPack" class="summary-sig-name">InstallDistAsZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">dist</span>,
        <span class="summary-sig-arg">eggPath</span>,
        <span class="summary-sig-arg">link</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">filesOnly</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">previousVersion</span>=<span class="summary-sig-default">None</span>)</span><br />
      Given an installed dist, install it into Zenoss as a ZenPack.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallDistAsZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#DiscoverEggs" class="summary-sig-name">DiscoverEggs</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">zenPackId</span>)</span><br />
      Find installed eggs that provide a zenoss.zenpacks entry point.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DiscoverEggs">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#AddDistToWorkingSet" class="summary-sig-name">AddDistToWorkingSet</a>(<span class="summary-sig-arg">distPath</span>)</span><br />
      Given the path to a dist (an egg) add it to the current working set.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#AddDistToWorkingSet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ReadZenPackInfo"></a><span class="summary-sig-name">ReadZenPackInfo</span>(<span class="summary-sig-arg">dist</span>)</span><br />
      Return a dictionary containing the egg metadata</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#ReadZenPackInfo">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="CopyMetaDataToZenPackObject"></a><span class="summary-sig-name">CopyMetaDataToZenPackObject</span>(<span class="summary-sig-arg">dist</span>,
        <span class="summary-sig-arg">pack</span>)</span><br />
      Copy metadata type stuff from the distribution to the zp object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CopyMetaDataToZenPackObject">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="CreateZenPacksDir"></a><span class="summary-sig-name">CreateZenPacksDir</span>()</span><br />
      Make sure $ZENHOME/ZenPacks exists</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CreateZenPacksDir">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#DoEasyInstall" class="summary-sig-name">DoEasyInstall</a>(<span class="summary-sig-arg">eggPath</span>)</span><br />
      Use easy_install to install an egg from the filesystem.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DoEasyInstall">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#FetchAndInstallZenPack" class="summary-sig-name">FetchAndInstallZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">zenPackName</span>,
        <span class="summary-sig-arg">zenPackVersion</span>=<span class="summary-sig-default">''</span>,
        <span class="summary-sig-arg">sendEvent</span>=<span class="summary-sig-default">True</span>)</span><br />
      Fetch the named zenpack and all its dependencies and install them.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#FetchAndInstallZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#FetchZenPack" class="summary-sig-name">FetchZenPack</a>(<span class="summary-sig-arg">zenPackName</span>,
        <span class="summary-sig-arg">zenPackVersion</span>=<span class="summary-sig-default">''</span>)</span><br />
      Use easy_install to retrieve the given zenpack and any dependencies.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#FetchZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#UploadZenPack" class="summary-sig-name">UploadZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">packName</span>,
        <span class="summary-sig-arg">project</span>,
        <span class="summary-sig-arg">description</span>,
        <span class="summary-sig-arg">znetUser</span>,
        <span class="summary-sig-arg">znetPass</span>)</span><br />
      Upload the specified zenpack to the given project.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#UploadZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#RemoveZenPack" class="summary-sig-name">RemoveZenPack</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">packName</span>,
        <span class="summary-sig-arg">filesOnly</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">skipDepsCheck</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">leaveObjects</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">sendEvent</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">forceNoFileDeletion</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">uninstallEgg</span>=<span class="summary-sig-default">True</span>)</span><br />
      Remove the given ZenPack from Zenoss.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#RemoveZenPack">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#DoEasyUninstall" class="summary-sig-name">DoEasyUninstall</a>(<span class="summary-sig-arg">name</span>)</span><br />
      Execute the easy_install command to unlink the given egg.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DoEasyUninstall">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenUtils.ZenPackCmd-module.html#CanRemoveZenPacks" class="summary-sig-name">CanRemoveZenPacks</a>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">packNames</span>)</span><br />
      Returns a tuple of (canRemove, otherDependents) canRemove is True if 
      the listed zenPacks have no dependents not also listed in packNames, 
      False otherwise.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CanRemoveZenPacks">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="GetDependents"></a><span class="summary-sig-name">GetDependents</span>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">packName</span>)</span><br />
      Return a list of installed ZenPack ids that list packName as a 
      dependency</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#GetDependents">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="ZPEvent"></a><span class="summary-sig-name">ZPEvent</span>(<span class="summary-sig-arg">dmd</span>,
        <span class="summary-sig-arg">severity</span>,
        <span class="summary-sig-arg">summary</span>,
        <span class="summary-sig-arg">message</span>=<span class="summary-sig-default">None</span>)</span><br />
      Send an event to Zenoss.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#ZPEvent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__doc__"></a><span class="summary-name">__doc__</span> = <code title="&quot;Manage ZenPacks&quot;">&quot;Manage ZenPacks&quot;</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="log"></a><span class="summary-name">log</span> = <code title="logging.getLogger('zen.ZenPackCMD')">logging.getLogger('zen.ZenPackCMD')</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="FQDN"></a><span class="summary-name">FQDN</span> = <code title="socket.getfqdn()">socket.getfqdn()</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="ZEN_PACK_INDEX_URL"></a><span class="summary-name">ZEN_PACK_INDEX_URL</span> = <code title="''">''</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="ZENPACK_ENTRY_POINT"></a><span class="summary-name">ZENPACK_ENTRY_POINT</span> = <code title="'zenoss.zenpacks'">'zenoss.zenpacks'</code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="CreateZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CreateZenPack</span>(<span class="sig-arg">zpId</span>,
        <span class="sig-arg">prevZenPackName</span>=<span class="sig-default">''</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CreateZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create the zenpack in the filesystem. The zenpack is not installed in 
  Zenoss, it is simply created in the $ZENHOME/ZenPacks directory.  Usually
  this should be followed with a &quot;zenpack install&quot; call. zpId 
  should already be valid, scrubbed value. prevZenPackName is written to 
  PREV_ZENPACK_NAME in setup.py.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="CanCreateZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CanCreateZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">zpId</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CanCreateZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return tuple (bool, string) where first element is true if a new 
  zenpack can be created with the given info and false if not.  If first 
  element is True then the second part of the tuple contains the scrubbed 
  ZenPack id. If the first part is False then the second contains an 
  explanatory message.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="ScrubZenPackId"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">ScrubZenPackId</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#ScrubZenPackId">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>If the given name conforms to ZenPack naming rules, or can easily be 
  modified to do so, then return (True, scrubbedName) where scrubbedName is
  either name or a slightly modified name.  If the given name does not 
  conform to naming rules and we can't easily modify it to do so then 
  return (False, errorMsg) where errorMsg describes why name is 
  unacceptable.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="InstallEggAndZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstallEggAndZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">eggPath</span>,
        <span class="sig-arg">link</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">filesOnly</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">sendEvent</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">previousVersion</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallEggAndZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Installs the given egg, instantiates the ZenPack, installs in 
  dmd.ZenPackManager.packs, and runs the zenpacks's install method. Returns
  a list of ZenPacks that were installed.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="InstallEgg"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstallEgg</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">eggPath</span>,
        <span class="sig-arg">link</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallEgg">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Install the given egg and add to the current working set. This does 
  not install the egg as a ZenPack. Return a list of distributions that 
  should be installed as ZenPacks.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="InstallDistAsZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">InstallDistAsZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">dist</span>,
        <span class="sig-arg">eggPath</span>,
        <span class="sig-arg">link</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">filesOnly</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">previousVersion</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#InstallDistAsZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Given an installed dist, install it into Zenoss as a ZenPack. Return 
  the ZenPack instance.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="DiscoverEggs"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DiscoverEggs</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">zenPackId</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DiscoverEggs">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Find installed eggs that provide a zenoss.zenpacks entry point. Return
  a list of distributions whose ZenPacks need to be installed or upgraded.
  The list is sorted into the order in which this needs to happen.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="AddDistToWorkingSet"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">AddDistToWorkingSet</span>(<span class="sig-arg">distPath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#AddDistToWorkingSet">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Given the path to a dist (an egg) add it to the current working set. 
  This is basically a pkg_resources-friendly way of adding it to sys.path. 
  Return a list of all distributions on distPath that appear to be 
  ZenPacks.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="DoEasyInstall"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DoEasyInstall</span>(<span class="sig-arg">eggPath</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DoEasyInstall">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Use easy_install to install an egg from the filesystem. easy_install 
  will install the egg, but does not install it into Zenoss as ZenPacks. 
  Returns a list of distributions that were installed that appear to be 
  ZenPacks.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="FetchAndInstallZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FetchAndInstallZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">zenPackName</span>,
        <span class="sig-arg">zenPackVersion</span>=<span class="sig-default">''</span>,
        <span class="sig-arg">sendEvent</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#FetchAndInstallZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Fetch the named zenpack and all its dependencies and install them. 
  Return a list of the ZenPacks that were installed.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="FetchZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">FetchZenPack</span>(<span class="sig-arg">zenPackName</span>,
        <span class="sig-arg">zenPackVersion</span>=<span class="sig-default">''</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#FetchZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Use easy_install to retrieve the given zenpack and any dependencies. 
  easy_install will install the eggs, but does not install them into Zenoss
  as ZenPacks. Return a list of distributions just installed that appear to
  be ZenPacks.</p>
  <p>NB: This should be refactored.  It shares most of its code with 
  DoEasyInstall()</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="UploadZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">UploadZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">packName</span>,
        <span class="sig-arg">project</span>,
        <span class="sig-arg">description</span>,
        <span class="sig-arg">znetUser</span>,
        <span class="sig-arg">znetPass</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#UploadZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Upload the specified zenpack to the given project. Project is a string
  of the form 'enterprise/myproject' or 'community/otherproject'.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="RemoveZenPack"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">RemoveZenPack</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">packName</span>,
        <span class="sig-arg">filesOnly</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">skipDepsCheck</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">leaveObjects</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">sendEvent</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">forceNoFileDeletion</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">uninstallEgg</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#RemoveZenPack">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Remove the given ZenPack from Zenoss. Whether the ZenPack will be 
  removed from the filesystem or not depends on the result of the ZenPack's
  shouldDeleteFilesOnRemoval method.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="DoEasyUninstall"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">DoEasyUninstall</span>(<span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#DoEasyUninstall">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Execute the easy_install command to unlink the given egg. What this is
  really doing is switching the egg to be in multiple-version mode, however
  this is the first step in deleting an egg as described here: 
  http://peak.telecommunity.com/DevCenter/EasyInstall#uninstalling-packages</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="CanRemoveZenPacks"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">CanRemoveZenPacks</span>(<span class="sig-arg">dmd</span>,
        <span class="sig-arg">packNames</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenUtils.ZenPackCmd-pysrc.html#CanRemoveZenPacks">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Returns a tuple of (canRemove, otherDependents) canRemove is True if 
  the listed zenPacks have no dependents not also listed in packNames, 
  False otherwise. otherDependents is a list of zenpack names not in 
  packNames that depend on one or more of the packs in packNames.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Zenoss</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Wed Jul 14 12:01:22 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
