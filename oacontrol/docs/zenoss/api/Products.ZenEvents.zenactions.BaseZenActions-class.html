<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Products.ZenEvents.zenactions.BaseZenActions</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Zenoss</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;Products ::
        <a href="Products.ZenEvents-module.html">Package&nbsp;ZenEvents</a> ::
        <a href="Products.ZenEvents.zenactions-module.html">Module&nbsp;zenactions</a> ::
        Class&nbsp;BaseZenActions
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="Products.ZenEvents.zenactions.BaseZenActions-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class BaseZenActions</h1><p class="nomargin-top"><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions">source&nbsp;code</a></span></p>
<pre class="base-tree">
<a href="object-class.html">object</a> --+
         |
        <strong class="uidshort">BaseZenActions</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="Products.ZenEvents.zenactions.ZenActions-class.html">ZenActions</a></li>  </ul>
</dd></dl>

<hr />
<p>Take actions based on events in the event manager. Start off by 
  sending emails and pages.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="loadActionRules"></a><span class="summary-sig-name">loadActionRules</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Load the ActionRules into the system.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.loadActionRules">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#_getCursor" class="summary-sig-name" onclick="show_private();">_getCursor</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">stmt</span>,
        <span class="summary-sig-arg">callback</span>)</span><br />
      Get a cursor for the ZenEventManager connection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions._getCursor">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="execute"></a><span class="summary-sig-name">execute</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">stmt</span>)</span><br />
      Execute stmt against ZenEventManager connection and return the number
      of rows that were affected.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.execute">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="query"></a><span class="summary-sig-name">query</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">stmt</span>)</span><br />
      Execute stmt against ZenEventManager connection and fetch all 
      results.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.query">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_describe"></a><span class="summary-sig-name">_describe</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">stmt</span>)</span><br />
      Execute stmt against ZenEventManager connection and return the cursor
      description.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions._describe">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_columnNames"></a><span class="summary-sig-name">_columnNames</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">table</span>)</span><br />
      Returns the column names for the table using a ZenEventManager 
      connection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions._columnNames">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getBaseUrl"></a><span class="summary-sig-name">getBaseUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getBaseUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getEventUrl"></a><span class="summary-sig-name">getEventUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">evid</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getEventUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getEventsUrl"></a><span class="summary-sig-name">getEventsUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getEventsUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getAckUrl"></a><span class="summary-sig-name">getAckUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">evid</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getAckUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getDeleteUrl"></a><span class="summary-sig-name">getDeleteUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">evid</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getDeleteUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="getUndeleteUrl"></a><span class="summary-sig-name">getUndeleteUrl</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">evid</span>,
        <span class="summary-sig-arg">device</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.getUndeleteUrl">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="processRules"></a><span class="summary-sig-name">processRules</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>)</span><br />
      Run through all rules matching them against events.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.processRules">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="checkVersion"></a><span class="summary-sig-name">checkVersion</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.checkVersion">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#filterDeviceName" class="summary-sig-name">filterDeviceName</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>,
        <span class="summary-sig-arg">whereClause</span>)</span><br />
      This is somewhat janky but we only store the device id in the mysql 
      database but allow people to search based on the device 
      &quot;title&quot;.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.filterDeviceName">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="processEvent"></a><span class="summary-sig-name">processEvent</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>,
        <span class="summary-sig-arg">context</span>,
        <span class="summary-sig-arg">action</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.processEvent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="maintenance"></a><span class="summary-sig-name">maintenance</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>)</span><br />
      Run stored procedures that maintain the events database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.maintenance">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#deleteHistoricalEvents" class="summary-sig-name">deleteHistoricalEvents</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">deferred</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">force</span>=<span class="summary-sig-default">False</span>)</span><br />
      Once per day delete events from history table.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.deleteHistoricalEvents">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="fetchMonitorHostname"></a><span class="summary-sig-name">fetchMonitorHostname</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">monitor</span>=<span class="summary-sig-default">'localhost'</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.fetchMonitorHostname">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="heartbeatEvents"></a><span class="summary-sig-name">heartbeatEvents</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Create events for failed heartbeats.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.heartbeatEvents">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="runEventCommand"></a><span class="summary-sig-name">runEventCommand</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">cmd</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">clear</span>=<span class="summary-sig-default">None</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.runEventCommand">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="eventCommands"></a><span class="summary-sig-name">eventCommands</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">zem</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.eventCommands">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="mainbody"></a><span class="summary-sig-name">mainbody</span>(<span class="summary-sig-arg">self</span>)</span><br />
      main loop to run actions.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.mainbody">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="runCycle"></a><span class="summary-sig-name">runCycle</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.runCycle">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="run"></a><span class="summary-sig-name">run</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.run">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="sendEvent"></a><span class="summary-sig-name">sendEvent</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">evt</span>)</span><br />
      Send event to the system.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendEvent">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="sendHeartbeat"></a><span class="summary-sig-name">sendHeartbeat</span>(<span class="summary-sig-arg">self</span>)</span><br />
      Send a heartbeat event for this monitor.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendHeartbeat">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="stop"></a><span class="summary-sig-name">stop</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.stop">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="format"></a><span class="summary-sig-name">format</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">clear</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.format">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="stripTags"></a><span class="summary-sig-name">stripTags</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">data</span>)</span><br />
      A quick html =&gt; plaintext converter that retains and displays 
      anchor hrefs</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.stripTags">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#sendPage" class="summary-sig-name">sendPage</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">clear</span>=<span class="summary-sig-default">None</span>)</span><br />
      Send and event to a pager.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendPage">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#sendEmail" class="summary-sig-name">sendEmail</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">action</span>,
        <span class="summary-sig-arg">data</span>,
        <span class="summary-sig-arg">clear</span>=<span class="summary-sig-default">None</span>)</span><br />
      Send an event to an email address.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendEmail">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="buildOptions"></a><span class="summary-sig-name">buildOptions</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.buildOptions">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="sigTerm"></a><span class="summary-sig-name">sigTerm</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">signum</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">frame</span>=<span class="summary-sig-default">None</span>)</span><br />
      controlled shutdown of main loop on interrupt</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sigTerm">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="lastCommand"></a><span class="summary-name">lastCommand</span> = <code title="None">None</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#addstate" class="summary-name">addstate</a> = <code title="&quot;INSERT INTO alert_state &quot; &quot;VALUES ('%s', '%s', '%s', NULL) &quot; &quot;ON DUPL\
ICATE KEY UPDATE lastSent = now()&quot;">&quot;INSERT INTO alert_state &quot; &quot;VALUES ('%s', '%s', '%s<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#clearstate" class="summary-name">clearstate</a> = <code title="&quot;DELETE FROM alert_state &quot; &quot; WHERE evid='%s' &quot; &quot;   AND userid='%s' &quot; &quot;\
   AND rule='%s'&quot;">&quot;DELETE FROM alert_state &quot; &quot; WHERE evid='%s' &quot; &quot; <code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#newsel" class="summary-name">newsel</a> = <code title="&quot;SELECT %s, evid FROM status WHERE &quot; &quot;%s AND evid NOT IN &quot; &quot; (SELECT e\
vid FROM alert_state &quot; &quot;  WHERE userid='%s' AND rule='%s' %s)&quot;">&quot;SELECT %s, evid FROM status WHERE &quot; &quot;%s AND evid NOT<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#clearsel" class="summary-name">clearsel</a> = <code title="&quot;SELECT %s, h.evid FROM history h, alert_state a &quot; &quot; WHERE h.evid=a.ev\
id AND a.userid='%s' AND a.rule='%s'&quot;">&quot;SELECT %s, h.evid FROM history h, alert_state a &quot; <code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="Products.ZenEvents.zenactions.BaseZenActions-class.html#clearEventSelect" class="summary-name">clearEventSelect</a> = <code title="&quot;SELECT %s &quot; &quot;  FROM history clear, history event &quot; &quot; WHERE clear.evid\
 = event.clearid &quot; &quot;   AND event.evid = '%s'&quot;">&quot;SELECT %s &quot; &quot;  FROM history clear, history<code class="variable-ellipsis">...</code></code>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_getCursor"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_getCursor</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">stmt</span>,
        <span class="sig-arg">callback</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions._getCursor">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Get a cursor for the ZenEventManager connection.  Execute statement 
  and call the callback with the cursor and number of row affected.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="filterDeviceName"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">filterDeviceName</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">zem</span>,
        <span class="sig-arg">whereClause</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.filterDeviceName">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>This is somewhat janky but we only store the device id in the mysql 
  database but allow people to search based on the device 
  &quot;title&quot;. This method resolves the disparity by searching the 
  catalog first and using those results.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="deleteHistoricalEvents"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">deleteHistoricalEvents</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">deferred</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">force</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.deleteHistoricalEvents">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Once per day delete events from history table. If force then run the 
  deletion statement regardless of when it was last run (the deletion will 
  still not run if the historyMaxAgeDays setting in the event manager is 
  not greater than zero.) If deferred then we are running in a twisted 
  reactor.  Run the deletion script in a non-blocking manner (if it is to 
  be run) and return a deferred (if the deletion script is run.) In all 
  cases return None if the deletion script is not run.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="sendPage"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sendPage</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">action</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">clear</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendPage">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Send and event to a pager.  Return True if we think page was sent, 
  False otherwise.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="sendEmail"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sendEmail</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">action</span>,
        <span class="sig-arg">data</span>,
        <span class="sig-arg">clear</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="Products.ZenEvents.zenactions-pysrc.html#BaseZenActions.sendEmail">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Send an event to an email address. Return True if we think the email 
  was sent, False otherwise.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== CLASS VARIABLE DETAILS ==================== -->
<a name="section-ClassVariableDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variable Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariableDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="addstate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">addstate</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
&quot;INSERT INTO alert_state &quot; &quot;VALUES ('%s', '%s', '%s', NULL) &quot; &quot;ON DUPL<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
ICATE KEY UPDATE lastSent = now()&quot;
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="clearstate"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">clearstate</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
&quot;DELETE FROM alert_state &quot; &quot; WHERE evid='%s' &quot; &quot;   AND userid='%s' &quot; &quot;<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
   AND rule='%s'&quot;
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="newsel"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">newsel</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
&quot;SELECT %s, evid FROM status WHERE &quot; &quot;%s AND evid NOT IN &quot; &quot; (SELECT e<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
vid FROM alert_state &quot; &quot;  WHERE userid='%s' AND rule='%s' %s)&quot;
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="clearsel"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">clearsel</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
&quot;SELECT %s, h.evid FROM history h, alert_state a &quot; &quot; WHERE h.evid=a.ev<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
id AND a.userid='%s' AND a.rule='%s'&quot;
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<a name="clearEventSelect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">clearEventSelect</h3>
  
  <dl class="fields">
  </dl>
  <dl class="fields">
    <dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
&quot;SELECT %s &quot; &quot;  FROM history clear, history event &quot; &quot; WHERE clear.evid<span class="variable-linewrap"><img src="crarr.png" alt="\" /></span>
 = event.clearid &quot; &quot;   AND event.evid = '%s'&quot;
</pre></td></tr></table>
</dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >Zenoss</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1
    on Wed Jul 14 12:01:24 2010
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
