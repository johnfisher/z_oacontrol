var ByteArray=function(a){a===void 0&&(a="");var b=0,e=a;this.__defineGetter__("bytesAvailable",function(){return e.length-b});this.clear=function(){b=0;e=""};this.__defineGetter__("length",function(){return e.length});this.__defineGetter__("position",function(){return b});this.__defineSetter__("position",function(a){b=a});this.readUnsignedByte=function(){return e.charCodeAt(b++)};this.readBytes=function(a,f,h){a.position=f;for(f=0;f<h;f++)a.writeByte(e.charCodeAt(b++))};this.toString=function(){return e};
this.writeByte=function(a){e+=String.fromCharCode(a)};this.writeString=function(a){e+=a}},FileReference=function(a,b){this.data=new ByteArray;this.name=a;this.size=b},Keyboard=0,TKeyboard=function(){this.BACKSPACE=8;this.DOWN=40;this.END=35;this.ENTER=13;this.F1=112;this.F2=113;this.F3=114;this.F4=115;this.F5=116;this.F6=117;this.F7=118;this.F8=119;this.F9=120;this.F10=121;this.F11=122;this.F12=123;this.HOME=36;this.INSERT=45;this.LEFT=37;this.PAGE_DOWN=34;this.PAGE_UP=33;this.RIGHT=39;this.SPACE=
32;this.TAB=9;this.UP=38},Keyboard=new TKeyboard,Point=function(a,b){this.x=a;this.y=b};
function Base64Decode(a){for(var b="",e,l,f,h,m,n=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");n<a.length;)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),e=e<<2|l>>4,l=(l&15)<<4|h>>
2,f=(h&3)<<6|m,b+=String.fromCharCode(e),h!==64&&(b+=String.fromCharCode(l)),m!==64&&(b+=String.fromCharCode(f));return b}
var ConnectAns=Base64Decode("G1swbRtbMkobWzA7MEgbWzE7NDQ7MzRt2sTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTEG1swOzQ0OzMwbb8bWzBtDQobWzE7NDQ7MzRtsyAgG1szN21XZWxjb21lISAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzA7NDQ7MzBtsxtbMG0NChtbMTs0NDszNG3AG1swOzQ0OzMwbcTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTE2RtbMG0NCg0KG1sxbSAbWzBtIBtbMTs0NDszNG3axMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMQbWzA7NDQ7MzBtvxtbMG0NCiAgG1sxOzQ0OzM0bbMbWzA7MzRt29vb2xtbMzBt29vb29vb29vb29vb29vb29vb29vb2xtbMzRt29vb29vbG1s0NDszMG2zG1swbQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvb29vb29vb29vb29vb29vb29vb29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb29vb29sbWzFt29vb2xtbMzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb29vbG1sxbdvb29sbWzBt29sbWzE7MzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29vb2xtbMG3b29vb29vb2xtbMW3b29vbG1swbdvbG1sxbdvbG1szMG3b2xtbMDszMG3b2xtbMzRt29vb2xtbNDQ7MzBtsxtbMG0NCiAgG1sxOzQ0OzM0bbMbWzA7MzRt29vb2xtbMTszMG3b29vbG1swbdvb29vb2xtbMW3b29vbG1swbdvbG1sxbdvb29sbWzMwbdvbG1swOzMwbdvbG1szNG3b29vbG1s0NDszMG2zG1swbQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvb29sbWzBt29vb2xtbMW3b29vbG1swbdvbG1sxbdvb29vb2xtbMzBt29sbWzA7MzBt29sbWzM0bdvb29sbWzQ0OzMwbbMbWzQwOzM3bQ0KICAbWzE7NDQ7MzRtsxtbMDszNG3b29vbG1sxOzMwbdvbG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29vb2xtbMDszMG3b2xtbMzRt29vb2xtbNDQ7MzBtsxtbNDA7MzdtDQogIBtbMTs0NDszNG2zG1swOzM0bdvb29sbWzE7MzBt29sbWzBt29vb29vb29vb29vb29vb29vb29sbWzMwbdvbG1szNG3b29vbG1s0NDszMG2zG1s0MDszN20NCiAgG1sxOzQ0OzM0bbMbWzA7MzBt29vb29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szNG3b2xtbNDQ7MzBtsxtbNDA7MzdtDQogIBtbMTs0NDszNG2zG1s0MDszMG3b2xtbMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szMG3b2xtbNDRtsxtbNDA7MzdtIBtbMzRtIBtbMTs0NzszN23axMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMQbWzMwbb8bWzBtDQogIBtbMTs0NDszNG2zG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29sbWzA7MzBt29vb29vb29vb2xtbMW3b2xtbMDszMG3b2xtbNDRtsxtbNDA7MzdtIBtbMzRtIBtbMTs0NzszN22zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAbWzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1s0MDszMG3b2xtbMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szMG3b2xtbNDRtsxtbMG0gG1szNG0gG1sxOzQ3OzM3bbMgICAbWzM0bUh0bWxUZXJtIC0tIFRlbG5ldCogZm9yIHRoZSBXZWIgICAgG1szMG2zG1swbQ0KG1sxbSAbWzBtIBtbMTs0NDszNG2zG1swOzMwbdvbG1sxbdvb29vb29vb29vb29vb29vb29vb29vb2xtbMDszMG3b29vb29sbWzQ0bbMbWzBtIBtbMzRtIBtbMTs0NzszN22zICAgICAbWzA7NDc7MzRtV2ViIGJhc2VkIEJCUyB0ZXJtaW5hbCBjbGllbnQgICAgG1sxOzMwbbMbWzBtDQogIBtbMTs0NDszNG2zG1swOzM0bdvbG1szMG3b29vb29vb29vb29vb29vb29vb29vb29vb29vbG1szNG3b2xtbNDQ7MzBtsxtbMG0gG1szNG0gG1sxOzQ3OzM3bbMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIBtbMzBtsxtbMG0NCiAgG1sxOzQ0OzM0bcAbWzA7NDQ7MzBtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTZG1swbSAbWzM0bSAbWzE7NDc7MzdtwBtbMzBtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTZG1swbQ0KDQobWzExQxtbMTszMm1Db3B5cmlnaHQgKEMpIDIwMDAtMjAxMCBSJk0gU29mdHdhcmUuICBBbGwgUmlnaHRzIFJlc2VydmVkDQobWzE7MzBtICogTk9URTogSHRtbFRlcm0gaXMgYWN0dWFsbHkgYSBXZWJTb2NrZXQgY2xpZW50LCBub3QgYSBUZWxuZXQgY2xpZW50DQobWzA7MzRtxMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTExA=="),DEBUG=
!1,PNGAsset="data:image/png;base64,";
try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,"__defineGetter__",{enumerable:!1,configurable:!0,value:function(a,b){Object.defineProperty(this,a,{get:b,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,"__defineSetter__",{enumerable:!1,configurable:!0,value:function(a,b){Object.defineProperty(this,a,{set:b,enumerable:!0,configurable:!0})}}))}catch(defPropException){if(!Object.prototype.__defineGetter__)Object.prototype.__defineGetter__=function(){},
Object.prototype.__defineSetter__=function(){}}!Object.prototype.addEventListener&&Object.attachEvent&&(Object.defineProperty(Object.prototype,"addEventListener",{enumerable:!1,configurable:!0,value:function(a,b){Object.attachEvent("on"+a,b)}}),Object.defineProperty(Object.prototype,"removeEventListener",{enumerable:!1,configurable:!0,value:function(a,b){Object.detachEvent("on"+a,b)}}));
function getElementPosition(a){for(var a=typeof a==="string"?document.getElementById(a):a,b=0,e=0;a;)b+=a.offsetLeft,e+=a.offsetTop,a=a.offsetParent;navigator.userAgent.indexOf("Mac")!==-1&&typeof document.body.leftMargin!=="undefined"&&(b+=document.body.leftMargin,e+=document.body.topMargin);return new Point(b,e)}function trace(a){try{console.log("trace: "+a)}catch(b){DEBUG&&setTimeout(function(){throw Error("trace: "+a);},0)}}
var StringUtils=0,TStringUtils=function(){var a=this;this.AddCommas=function(a){var e="",l=1,f;for(f=a.toString().length-1;f>=0;f--)l>3&&l%3===1&&(e=","+e),e=a.toString().charAt(f)+e,l++;return e};this.FormatPercent=function(a,e){a*=100;return e===0?Math.round(a)+"%":Math.round(a)+"."+Math.round(a*Math.pow(10,e)).toString().substr(-e)+"%"};this.NewString=function(a,e){if(a.length===0)return"";var l="",f;for(f=0;f<e;f++)l+=a.charAt(0);return l};this.PadLeft=function(a,e,l){if(e.length===0)return a;
for(;a.length<l;)a=e.charAt(0)+a;return a.substring(0,l)};this.PadRight=function(a,e,l){if(e.length===0)return a;for(;a.length<l;)a+=e.charAt(0);return a.substring(0,l)};this.Trim=function(b){return a.TrimLeft(a.TrimRight(b))};this.TrimLeft=function(a){return a.replace(/^\s+/g,"")};this.TrimRight=function(a){return a.replace(/\s+$/g,"")}},StringUtils=new TStringUtils,TConnectButton=function(){this.ongraphicchanged=function(){};var a=this,b=PNGAsset+"iVBORw0KGgoAAAANSUhEUgAAARMAAABBCAMAAADFRrDCAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAFxcXGBgYGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIiMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMjMzNDQ0NTU1NjY2Nzc3Nzg4ODg3ODg4ODk5Ojo5Ojo6Ozs7PDw7PDw8PD09Pj4+Pz8/P0BAQEA/QEBAQEFBQkJCQkNDQ0RERERDRERERUVFRUZGRkdHR0hISEhISUlJSkpKS0tLTU1NTk5OT09PUlJSU1NTVFRUVVVVVlZWV1dXWFhYW1tbXFxcXV1dXl5eXl9fYGBgYWFhYmJiZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcnJyc3Nzc3R0dHR0dXV1dnZ2eHh4eXl5enp6e3t7fHx8fX19f39/gICAgYGBgoKChYWFh4eHiIiIiYmJioqKi4uLjIyMjo6Oj4+PkJCQkZGRkpKSlJSUlZWVl5eXmJiYmZmZmpqanZ2dnp6en5+foKCgoqKio6Ojpqamp6enqKioqampq6urra2trq6ur6+vsLCwsbGxs7Oztra2uLi4ubm5u7u7vLy8vb29vr6+wMDAwsLCxMTExcXFx8fHyMjIycnJysrKy8vLzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1dXV1tbW19fX2NjY2dnZ3Nzc3d3d3t7e39/f4ODg4uLi4+Pj5OTk5ubm5+fn6Ojo6enp6urq6+vr7OzsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAob01kQAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAAHdElNRQfaCBENBQGlDLlSAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS41SYr84AAACihJREFUeF7tnPtj09YVx9uNdm2T0ZB3SGR10qzqsclyK9uz09FmjGUwninjMTZooaRlYyUZSwqEDQZbSGgZK20pK4VRoILSLilstP3vtnPuQ76SrhWHH/jBzjW2pXtufHU+/p6je68sHvnfUokTeGQJSYLAEpOkKJaYLMREaeaymtMRdLK6mYEQ3z1Kpcqk6YkggCiTJSSEQFnQCUMyvGV8qhnL5JZhRqDKhFZs+HfQvOXeGxQCzyercMc40bxAiOfveAQDy7EEUBLJtYkdftejj36r0985ca0JgF2hQiHnHXIW3hBz+tqe9m8/0fp0e2dHe/vy1ieWrdjT+FjGiVAIE4InmksuvrisZUV3T18/WAb6+wf6utpblq262OhiKSOJkElEJl+uffzprj5lAIHAM0Ne+rqWP7b2y8amQvJsyOQNwdl3l7d29fcrA8BiIAM0sEDb/pWdra3vNjSUExEmk1VfD3+nvT+jKYqa0VRFVXRopym4mVH6Op462shQokymQle3tfQOgDbwH2BQn1FV2NThCTsZpevJbQ0MZSqik5DJ+tZuEAcQUFQVxIIcvgd4NBWQaFDR0zLSuFDkTF5tXYlIgAX8Ax4aRBDEDlIiyskova37GhaKlMmZll4MGE3LZDTyokKBLY3UASBVU/ta3m5UKDIm9zp6kAUBgSmWwIBHhrxRSybT3XEvCeXc6BAGY2Xrqbmk8erBIRuM/tDEDdE4T0ZGirImrJxhNfNYs4A5YG1jb2IHNyZIv7bY70b5nykK9Clj8osORKJpOngPL/gkIOgu7uB2puuXMbfvbhI7+umnEfM3b4pGffKb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",
e=PNGAsset+"iVBORw0KGgoAAAANSUhEUgAAARMAAABBCAMAAADFRrDCAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAFxcXGBgYGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIiMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMjMzNDQ0NTU1NjY2Nzc3Nzg4ODg3ODg4ODk5Ojo5Ojo6Ozs7PDw7PDw8PD09Pj4+Pz8/P0BAQEA/QEBAQEFBQkJCQkNDQ0RERERDRERERUVFRUZGRkdHR0hISEhISUlJSkpKS0tLTU1NTk5OT09PUlJSU1NTVFRUVVVVVlZWV1dXWFhYW1tbXFxcXV1dXl5eXl9fYGBgYWFhYmJiZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcnJyc3Nzc3R0dHR0dXV1dnZ2eHh4eXl5enp6e3t7fHx8fX19f39/gICAgYGBgoKChYWFh4eHiIiIiYmJioqKi4uLjIyMjo6Oj4+PkJCQkZGRkpKSlJSUlZWVl5eXmJiYmZmZmpqanZ2dnp6en5+foKCgoqKio6Ojpqamp6enqKioqampq6urra2trq6ur6+vsLCwsbGxs7Oztra2uLi4ubm5u7u7vLy8vb29vr6+wMDAwsLCxMTExcXFx8fHyMjIycnJysrKy8vLzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1dXV1tbW19fX2NjY2dnZ3Nzc3d3d3t7e39/f4ODg4uLi4+Pj5OTk5ubm5+fn6Ojo6enp6urq6+vr7Ozs7e3t7+/v8PDw8vLy8/Pz9/f3+fn5+vr6/Pz8////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABcRGgAAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAAHdElNRQfaCBENBQGlDLlSAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS41SYr84AAACohJREFUeF7tnPt/FNUVwLVFqybFkHfIzq6d6Y7zaPehs7vdDY2mFFMoBIjIo7SgIFFaKkkpEQgtFFpI0EgFFSpCERAQaSK0qAUSlvnH2nOfe2fm7rD7C5+Pu7mb3Xmcu3vnfOecc8+9M5NH/jdX/AQemUMSICAyUeq5LC6h4UwW1zMQrHuKUWFM6p4IAkChUCZzSDCBPKZCmFAk/atHxuqxjK7upwRKTMiOFf9y67fcfJNAYHbSizb0A/ULBGv+bgpjoL6DAQWRnN+93ml79NHvtDobdp+vA2BnmaFAPMG98Aqf0uc3N3/3icanm1tbmpvnNz4xb8Hm2scyQg0FmGA83ljy0QvzGha0d3R1gyTS3R3pamtumNf7UY0by708iSiUicdMvlz6+NNtXUoEAYF3FH90tc1/bOmXtU0Fx1nO5E1B2ffnN7Z1dysRYBGJAg1UoG73wtbGxvdrGsoBD5PRkq67vtfcHVUVJRZVY0pM0aCeqqDVqNLV8tTeWobiZTLGVL23tqEzAraB/gBD7JlYDFY1eMNGVGl7cu292qUy5rETxuT+8sZ2MA4goMRiYCyIww8AjxoDJCrs6GgYrDcmrzUuREiABfwBDxU8CHwHUcKWE1U6G7fWLBSpnRxt6EQOo6rRqIo/YlBgTcX7AFBMjXU1vFOrUGRMbrZ0IBYYBAqxGAa8onhBJNFoe8vNAJQ7k0N9yBkLaw5NBYSz53b0WSB0+nZfnBWk0zgzUpQlRbZznO6ZRjseIHZpXd9C+P3Zi7txuxa0y5sYkH9NUaBNGZNftiAkqqqB9vCB3hgE2UQbaD3a9opP7RsrxYZ+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",
l=PNGAsset+"iVBORw0KGgoAAAANSUhEUgAAARMAAABBCAMAAADFRrDCAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAFxcXGBgYGxsbHBwcHR0dHh4eHx8fICAgISEhIiIiIiMjJCQkJSUlJiYmJycnKCgoKSkpKioqKysrLCwsLS0tLi4uLy8vMDAwMTExMjIyMjMzNDQ0NTU1NjY2Nzc3Nzg4ODg3ODg4ODk5Ojo5Ojo6Ozs7PDw7PDw8PD09Pj4+Pz8/P0BAQEA/QEBAQEFBQkJCQkNDQ0RERERDRERERUVFRUZGRkdHR0hISEhISUlJSkpKS0tLTU1NTk5OT09PUlJSU1NTVFRUVVVVVlZWV1dXWFhYW1tbXFxcXV1dXl5eXl9fYGBgYWFhYmJiZmZmZ2dnaGhoaWlpampqa2trbGxsbW1tbm5ub29vcHBwcnJyc3Nzc3R0dHR0dXV1dnZ2eHh4eXl5enp6e3t7fHx8fX19f39/gICAgYGBgoKChYWFh4eHiIiIiYmJioqKi4uLjIyMjo6Oj4+PkJCQkZGRkpKSlJSUlZWVl5eXmJiYmZmZmpqanZ2dnp6en5+foKCgoqKio6Ojpqamp6enqKioqampq6urra2trq6ur6+vsLCwsbGxs7Oztra2uLi4ubm5u7u7vLy8vb29vr6+wMDAwsLCxMTExcXFx8fHyMjIycnJysrKy8vLzMzMzc3Nzs7Oz8/P0NDQ0dHR0tLS09PT1dXV1tbW19fX2NjY2dnZ3Nzc3d3d3t7e39/f4ODg4uLi4+Pj5OTk5ubm5+fn6Ojo6enp6urq6+vr7OzsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAob01kQAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAAHdElNRQfaCBENBQGlDLlSAAAAGXRFWHRTb2Z0d2FyZQBQYWludC5ORVQgdjMuNS41SYr84AAACi9JREFUeF7tnPtjFNUVx7WiVZNiyDtkZ8fOdMd5tLOzOrvb3dhopDSF8oyUR2lBQaK0VJLSRCC0UKghQSkVFakIIuCAaBOhRf3v2nPuY553Jxt+4Ifd3E12Z+652Tvns99z5t47O3nof0slTuChJSQJAmEmUjOXVQEan8mqZgZCfHc4Fc6k6YkgAAaFMVlCQghUCBXKhCEZ3jw+1YxlcvMwIxAwoRXr/+01b7n7BoXAdTKIO9rx5gVCPH/XIRhY7BBASSRXJ7a7XQ8//L1Od8fE1SYAdpkLBfIJOQuvjzl9dXf7I4+3PtXe2dHevrz18WUrdjc+lnEmFGBC8ERzyYUXlrWs6O7p6wdLpr8/09fV3rJs8EKji6VCMwpjEpHJ12see6qrT8ogEPjNkqe+ruWPrvm6samQPOszeSPk7HvLW7v6+6UMsMhkgQYWaNu/srO19b2GhnI8wmQy8PXQ99v7s4okyVlFlmRJhXaKhJtZqa/jySONDCXKZMp3dWtLbwa0gT+AQX5almFThV/YyUpdT2xtYChTEZ34TNa1doM4gIAkyyAW5PBDwKPIgESBip6WkcaFImbyautKRAIs4Ad4KBBBEDtIiSgnK/W27m1YKEImp1t6MWAUJZtVyJMMBbYUUgeAZEXua3mnUaGImNzt6EEWBASmWAIDHlnyQi3ZbHfH3SSUs6NDGIzVLSfnksYrB4ZMMLpDE9fDxnkyMpKk1X7lDKuZx5oFzB5rG3sJd3B9gvRrhvvdIP4zSYI+RUx+1YFIFEUF7+EJfwkIuos7uJ3t+nXM7Tsbwx39/POI+bs3w0Z18jvfyp2WTvAq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",
f=1,h=0,m=1,n=1,o=function(){},g=function(){},p=function(){},j=function(){},d=function(){},i=function(){},q=function(){};this.Center=function(a){if(h.style.display!=="none"){var g=getElementPosition(a);h.style.left="0px";h.style.top="0px";var b=getElementPosition(h);h.style.left=(a.width-h.width)/2+(g.x-b.x)+"px";h.style.top=(a.height-h.height)/2+(g.y-b.y)+"px"}};this.Hide=function(){h.style.display="none"};this.__defineGetter__("Image",function(){return h});o=function(){h.onerror=g;h.src=f?b:"img/ConnectDown.png";
a.ongraphicchanged()};g=function(){f=!0;h.onerror="";h.src=b;a.ongraphicchanged()};p=function(){a.ongraphicchanged()};j=function(){h.onerror=d;h.src=m?e:"img/ConnectOver.png";a.ongraphicchanged()};d=function(){m=!0;h.onerror="";h.src=e;a.ongraphicchanged()};i=function(){h.onerror=q;h.src=n?l:"img/ConnectUp.png";a.ongraphicchanged()};q=function(){n=!0;h.onerror="";h.src=l;a.ongraphicchanged()};this.Show=function(){h.style.display=""};h=document.createElement("img");h.onerror=q;h.onload=p;h.onmouseover=
j;h.onmouseout=i;h.onmousedown=o;h.onmouseup=i;h.src=l;h.style.cursor="pointer";h.style.position="absolute";h.style.left="0px";h.style.top="0px";a.Hide()},BlinkState=0,TBlinkState=function(){this.Show=0;this.Hide=1},BlinkState=new TBlinkState,TCursor=function(a,b,e){this.onhide=function(){};this.onshow=function(){};var l=this,f,h=0,m,n=0,o,g,p,j,d,i,q=function(){},t=function(){},r=function(){};this.__defineSetter__("BlinkRate",function(a){p.delay=a});this.__defineSetter__("Colour",function(a){m=a;
q()});q=function(){if(n)h.width=g.x,h.height=g.y,n.fillStyle=m,n.fillRect(0,g.y-g.y*0.2,g.x,g.y*0.2)};t=function(){f=f===BlinkState.Hide?BlinkState.Show:BlinkState.Hide;h.style.opacity=j?f===BlinkState.Hide?0:1:0;switch(f){case BlinkState.Hide:l.onhide();break;case BlinkState.Show:l.onshow()}};this.__defineGetter__("Position",function(){return o});this.__defineSetter__("Position",function(a){o=a;r()});this.__defineSetter__("Size",function(a){g=a;q();r()});r=function(){if(h&&j)h.style.left=(o.x-1)*
g.x+i.x+"px",h.style.top=(o.y-1)*g.y+i.y+"px"};this.__defineSetter__("Visible",function(a){(j=a)&&r()});this.__defineSetter__("WindowOffset",function(a){if(a.x!==d.x||a.y!==d.y){d=a;h.style.left="0px";h.style.top="0px";var g=getElementPosition(h);i.x=a.x-g.x;i.y=a.y-g.y;r()}});f=BlinkState.Hide;m=b;o=new Point(1,1);g=e;j=!0;d=new Point(0,0);i=new Point(0,0);h=document.createElement("canvas");if(h.getContext)h.style.position="absolute",n=h.getContext("2d"),a.appendChild(h),r(),q(),p=setInterval(t,
500)},CrtFonts=[];CrtFonts["437x9x16"]=PNGAsset+"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";
CrtFonts.ASCIIx9x16=PNGAsset+"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";
var TFont=function(){this.onchange=function(){};this.HTML_COLOURS=["#000000","#0000A8","#00A800","#00A8A8","#A80000","#A800A8","#A85400","#A8A8A8","#545454","#5454FC","#54FC54","#54FCFC","#FC5454","#FC54FC","#FCFC54","#FCFCFC"];var a=this,b=0,e=[],l=0,f=0,h=0,m=0,n=0,o=0,g=0,p=0,j=function(){},d=function(){};this.__defineGetter__("CodePage",function(){return l});this.GetChar=function(b,d){if(h>0)return 0;if(b<0||b>255||d<0||d>255)return 0;if(!e[b][d]&&(e[b][d]=f.getImageData(b*g.x,0,g.x,g.y),d!==
15)){var n=a.HTML_COLOURS[(d&240)>>4],i=a.HTML_COLOURS[d&15],j=parseInt(n[1].toString()+n[2].toString(),16),l=parseInt(n[3].toString()+n[4].toString(),16),n=parseInt(n[5].toString()+n[6].toString(),16),m=parseInt(i[1].toString()+i[2].toString(),16),p=parseInt(i[3].toString()+i[4].toString(),16),i=parseInt(i[5].toString()+i[6].toString(),16),o=0,k=0,c=0,s;for(s=0;s<e[b][d].data.length;s+=4)e[b][d].data[s]?(o=m,k=p,c=i):(o=j,k=l,c=n),e[b][d].data[s]=o,e[b][d].data[s+1]=k,e[b][d].data[s+2]=c,e[b][d].data[s+
3]=255}return e[b][d]};this.__defineGetter__("Height",function(){return g.y});this.Load=function(g,b,e){CrtFonts[g+"x"+b+"x"+e]!==void 0?(a.HTML_COLOURS[7]="#A8A8A8",a.HTML_COLOURS[0]="#000000",h+=1,n=g,o=new Point(b,e),isNaN(parseInt(g,10))?(g.indexOf("ATASCII")===0&&(a.HTML_COLOURS[7]="#63B6E7",a.HTML_COLOURS[0]="#005184"),m=new Image,m.onload=d,m.src=CrtFonts[n+"x"+o.x+"x"+o.y],p=0):(m=new Image,m.onload=j,m.src=CrtFonts["ASCIIx"+b+"x"+e])):trace("HtmlTerm Error: Font CP="+g+", Width="+b+", Height="+
e+" does not exist")};j=function(){p=new Image;p.onload=d;p.src=CrtFonts[n+"x"+o.x+"x"+o.y]};d=function(){l=n;g=o;b.width=p?m.width*2:m.width;b.height=m.height;f.drawImage(m,0,0);p&&f.drawImage(p,m.width,0);var d;for(d=0;d<256;d++)e[d]=[];h-=1;a.onchange()};this.__defineGetter__("Size",function(){return g});this.__defineGetter__("Width",function(){return g.x});var l=437,g=new Point(9,16),i,b=document.createElement("canvas");if(b.getContext){f=b.getContext("2d");for(i=0;i<256;i++)e[i]=[];this.Load(l,
g.x,g.y)}},KeyPressEvent=function(a,b){this.altKey=a.altKey;this.charCode=a.charCode;this.ctrlKey=a.ctrlKey;this.keyCode=a.keyCode;this.keyString=b;this.shiftKey=a.shiftKey},Crt=function(){},TCrt=function(){this.BLACK=0;this.BLUE=1;this.GREEN=2;this.CYAN=3;this.RED=4;this.MAGENTA=5;this.BROWN=6;this.LIGHTGRAY=7;this.DARKGRAY=8;this.LIGHTBLUE=9;this.LIGHTGREEN=10;this.LIGHTCYAN=11;this.LIGHTRED=12;this.LIGHTMAGENTA=13;this.YELLOW=14;this.WHITE=15;this.BLINK=128;var a=this,b=!1,e,l,f,h,m,n,o,g,p,j,
d,i,q,t,r=navigator.userAgent.toLowerCase().indexOf("chrome/7.0.517")!==-1,z=function(){},x=function(){},y=function(){},u=function(){},v=function(){},w=function(){};Array.prototype.InitTwoDimensions=function(a,c){var g;for(g=0;g<=a;g++)this[g]=[c+1]};this.Init=function(k){e=!1;l=!0;f=!1;g=new TFont;g.onchange=u;p=[];j=0;d=new Point(80,25);i=7;m=document.createElement("canvas");m.innerHTML='Your browser doesn\'t support the HTML5 Canvas element!<br>The latest version of every major web browser supports this element, so please consider upgrading now:<ul><li><a href="http://www.mozilla.com/firefox/">Mozilla Firefox</a></li><li><a href="http://www.google.com/chrome">Google Chrome</a></li><li><a href="http://www.apple.com/safari/">Apple Safari</a></li><li><a href="http://www.opera.com/">Opera</a></li><li><a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">MS Internet Explorer</a></li></ul>';
m.width=g.Width*d.x;m.height=g.Height*d.y;k.appendChild(m);if(!m.getContext)return trace("HtmlTerm Error: Canvas not supported"),!1;window.addEventListener("keydown",v,!1);window.addEventListener("keypress",w,!1);z();o=new TCursor(k,g.HTML_COLOURS[a.LIGHTGRAY],g.Size);o.onhide=x;o.onshow=y;q=0;t=d.x-1|d.y-1<<8;n=m.getContext("2d");n.font="12pt monospace";n.textBaseline="top";m.style.border="1px solid #999999";a.ClrScr();return!0};this.__defineGetter__("Atari",function(){return b});this.__defineSetter__("Atari",
function(a){b=a});this.Beep=function(){};this.__defineGetter__("bitmapData",function(){return(void 0).bitmapData});this.__defineGetter__("Blink",function(){return l});this.__defineSetter__("Blink",function(a){l=a});this.__defineGetter__("Canvas",function(){return m});this.ClrBol=function(){a.FastWrite(StringUtils.NewString(" ",a.WhereX()),a.WindMinX+1,a.WhereYA(),i)};this.ClrBos=function(){a.ScrollUpWindow(a.WhereY());a.ScrollDownWindow(a.WhereY())};this.ClrEol=function(){a.FastWrite(StringUtils.NewString(" ",
a.WindMaxX-a.WhereX()+1),a.WhereXA(),a.WhereYA(),i)};this.ClrEos=function(){a.ScrollDownWindow(a.WindRows-a.WhereY()+1);a.ScrollUpWindow(a.WindRows-a.WhereY()+1)};this.ClrLine=function(){a.FastWrite(StringUtils.NewString(" ",a.WindCols),a.WindMinX+1,a.WhereYA(),i)};this.ClrScr=function(){a.ScrollUpWindow(a.WindRows);a.GotoXY(1,1)};this.Conceal=function(){var k=0,k=l?(i&112)>>4:(i&240)>>4;a.TextColor(k)};this.__defineGetter__("Cursor",function(){return o});this.DelChar=function(k){k===void 0&&(k=1);
var c;for(c=a.WhereXA();c<=a.WindMinX+a.WindCols-k;c++)a.FastWrite(String.fromCharCode(h[c+k][a.WhereYA()].x),c,a.WhereYA(),h[c+k][a.WhereYA()].y);for(c=a.WindMinX+a.WindCols+1-k;c<=a.WindMinX+a.WindCols;c++)a.FastWrite(" ",c,a.WhereYA(),i)};this.DelLine=function(k){k===void 0&&(k=1);a.ScrollUpCustom(a.WindMinX+1,a.WhereYA(),a.WindMaxX+1,a.WindMaxY+1,k,i)};this.FastWrite=function(a,c,b,e,f){f===void 0&&(f=!0);if(c<=d.x&&b<=d.y){var i=l?e&127:e,j;for(j=0;j<a.length;j++){var m=g.GetChar(a.charCodeAt(j),
i);m&&n.putImageData(m,(c-1+j)*g.Width,(b-1)*g.Height);if(f)h[c+j][b].x=a.charCodeAt(j),h[c+j][b].y=e;if(c+j>=d.x)break}}};this.GotoXY=function(k,c){if(k>0&&c>0&&k-1+a.WindMinX<=a.WindMaxX&&c-1+a.WindMinY<=a.WindMaxY)o.Position=new Point(k,c)};this.HideCursor=function(){o.Visible=!1};this.HighVideo=function(){i|=8};z=function(){h=[];h.InitTwoDimensions(d.x,d.y);var a,c;for(c=1;c<=d.y;c++)for(a=1;a<=d.x;a++)h[a][c]=new Point(32,7)};this.InsChar=function(k){k===void 0&&(k=1);var c;for(c=a.WindMinX+
a.WindCols;c>=a.WhereXA()+k;c--)a.FastWrite(String.fromCharCode(h[c-k][a.WhereYA()].x),c,a.WhereYA(),h[c-k][a.WhereYA()].y);for(c=a.WhereXA();c<a.WhereXA()+k;c++)a.FastWrite(" ",c,a.WhereYA(),i)};this.InsLine=function(k){k===void 0&&(k=1);a.ScrollDownCustom(a.WindMinX+1,a.WhereYA(),a.WindMaxX+1,a.WindMaxY+1,k,i)};this.KeyPressed=function(){return p.length>0};this.LowVideo=function(){i&=247};this.NormVideo=function(){i=a.LIGHTGRAY};x=function(){if(l){f=!0;var k,c;for(c=1;c<=d.y;c++)for(k=1;k<=d.x;k++)(h[k][c].y&
a.BLINK)===a.BLINK&&h[k][c].x!==32&&a.FastWrite(" ",k,c,h[k][c].y,!1)}if(r)Crt.Canvas.style.opacity=0.999};y=function(){if(l||f){f=!1;var k,c;for(c=1;c<=d.y;c++)for(k=1;k<=d.x;k++)(h[k][c].y&a.BLINK)===a.BLINK&&h[k][c].x!==32&&a.FastWrite(String.fromCharCode(h[k][c].x),k,c,h[k][c].y,!1)}o.WindowOffset=getElementPosition(m);if(r)Crt.Canvas.style.opacity=1};u=function(){o.Size=g.Size;m.height=g.Height*d.y;m.width=g.Width*d.x;var k,c;if(h!==null)for(c=1;c<=d.y;c++)for(k=1;k<=d.x;k++)a.FastWrite(String.fromCharCode(h[k][c].x),
k,c,h[k][c].y,!1)};v=function(a){var c="";if(a.ctrlKey)if(a.keyCode>=65&&a.keyCode<=90)if(b)switch(a.keyCode){case 72:c=String.fromCharCode(126);break;case 74:c=String.fromCharCode(13);break;case 77:c=String.fromCharCode(155);break;default:c=String.fromCharCode(a.keyCode-64)}else c=String.fromCharCode(a.keyCode-64);else{if(a.keyCode>=97&&a.keyCode<=122)if(b)switch(a.keyCode){case 104:c=String.fromCharCode(126);break;case 106:c=String.fromCharCode(13);break;case 109:c=String.fromCharCode(155);break;
default:c=String.fromCharCode(a.keyCode-96)}else c=String.fromCharCode(a.keyCode-96)}else switch(a.keyCode){case Keyboard.BACKSPACE:c=b?String.fromCharCode(126):String.fromCharCode(a.keyCode);break;case Keyboard.DOWN:c="\u001b[B";break;case Keyboard.END:c="\u001b[K";break;case Keyboard.ENTER:c=b?"\u009b":"\r\n";break;case Keyboard.F1:c="\u001bOP";break;case Keyboard.F2:c="\u001bOQ";break;case Keyboard.F3:c="\u001bOR";break;case Keyboard.F4:c="\u001bOS";break;case Keyboard.F5:c="\u001bOt";break;case Keyboard.F6:c=
"\u001b[17~";break;case Keyboard.F7:c="\u001b[18~";break;case Keyboard.F8:c="\u001b[19~";break;case Keyboard.F9:c="\u001b[20~";break;case Keyboard.F10:c="\u001b[21~";break;case Keyboard.F11:c="\u001b[23~";break;case Keyboard.F12:c="\u001b[24~";break;case Keyboard.HOME:c="\u001b[H";break;case Keyboard.INSERT:c="\u001b@";break;case Keyboard.LEFT:c="\u001b[D";break;case Keyboard.PAGE_DOWN:c="\u001b[U";break;case Keyboard.PAGE_UP:c="\u001b[V";break;case Keyboard.RIGHT:c="\u001b[C";break;case Keyboard.SPACE:c=
" ";break;case Keyboard.TAB:c=b?"\u007f":String.fromCharCode(a.keyCode);break;case Keyboard.UP:c="\u001b[A"}p.push(new KeyPressEvent(a,c));(c||a.ctrlKey)&&a.preventDefault()};w=function(a){var c="";a.charCode>=33&&a.charCode<=126&&(c=String.fromCharCode(a.charCode));p.push(new KeyPressEvent(a,c))};this.OnKeyFocusChange=function(a){a.preventDefault()};this.ReadKey=function(){return p.length===0?null:p.shift()};this.ReDraw=function(){var k,c;for(c=1;c<=d.y;c++)for(k=1;k<=d.x;k++)a.FastWrite(String.fromCharCode(h[k][c].x),
k,c,h[k][c].y,!1)};this.RestoreScreen=function(k,c,g,b,d){var h;for(h=g;h<=d;h++)for(g=c;g<=b;g++)a.FastWrite(String.fromCharCode(k[g][h].x),g,h,k[g][h].y)};this.ReverseVideo=function(){i=l?(i&112)>>4|(i&7)<<4:(i&240)>>4|(i&15)<<4};this.SaveScreen=function(a,c,g,b){var e=[];e.InitTwoDimensions(d.x,d.y);var f;for(f=c;f<=b;f++)for(c=a;c<=g;c++)e[c][f]=new Point(h[c][f].x,h[c][f].y);return e};this.__defineGetter__("ScreenCols",function(){return d.x});this.__defineGetter__("ScreenRows",function(){return d.y});
this.ScrollDownCustom=function(a,c,b,d,e,f){var i=d-c+1;e>i&&(e=i);var i=(a-1)*g.Width,j=(c-1)*g.Height,m=(b-a+1)*g.Width,o=(d-c+1-e)*g.Height;o>0&&(m=n.getImageData(i,j,m,o),i=(a-1)*g.Width,j=(c-1)*g.Height,n.putImageData(m,i,j));n.fillStyle=l?g.HTML_COLOURS[(f&112)>>4]:g.HTML_COLOURS[(f&240)>>4];i=(a-1)*g.Width;j=(c-1)*g.Height;m=(b-a+1)*g.Width;o=e*g.Height;n.fillRect(i,j,m,o);j=i=0;for(j=d;j>e;j--)for(i=a;i<=b;i++)h[i][j].x=h[i][j-e].x,h[i][j].y=h[i][j-e].y;for(j=c;j<=e;j++)for(i=a;i<=b;i++)h[i][j].x=
32,h[i][j].y=f};this.ScrollDownScreen=function(g){a.ScrollDownCustom(1,1,d.x,d.y,g,i)};this.ScrollDownWindow=function(g){a.ScrollDownCustom(a.WindMinX+1,a.WindMinY+1,a.WindMaxX+1,a.WindMaxY+1,g,i)};this.ScrollUpCustom=function(a,c,b,d,e,i){var f=d-c+1;e>f&&(e=f);var f=(a-1)*g.Width,j=(c-1+e)*g.Height,m=(b-a+1)*g.Width,o=(d-c+1-e)*g.Height;o>0&&(m=n.getImageData(f,j,m,o),f=(a-1)*g.Width,j=(c-1)*g.Height,n.putImageData(m,f,j));n.fillStyle=l?g.HTML_COLOURS[(i&112)>>4]:g.HTML_COLOURS[(i&240)>>4];f=(a-
1)*g.Width;j=(d-e)*g.Height;m=(b-a+1)*g.Width;o=e*g.Height;n.fillRect(f,j,m,o);j=f=0;for(j=c;j<=d-e;j++)for(f=a;f<=b;f++)h[f][j].x=h[f][j+e].x,h[f][j].y=h[f][j+e].y;for(j=d;j>d-e;j--)for(f=a;f<=b;f++)h[f][j].x=32,h[f][j].y=i};this.ScrollUpScreen=function(g){a.ScrollUpCustom(1,1,d.x,d.y,g,i)};this.ScrollUpWindow=function(g){a.ScrollUpCustom(a.WindMinX+1,a.WindMinY+1,a.WindMaxX+1,a.WindMaxY+1,g,i)};this.SetBlinkRate=function(a){o.BlinkRate=a};this.SetFont=function(a,c,b){(a!==g.CodePage||c!==g.Size.x||
b!==g.Size.y)&&g.Load(a,c,b)};this.SetScreenSize=function(g,c){if(!(g===d.x&&c===d.y)){var b=0,e=0,f;if(h!==null){f=[];f.InitTwoDimensions(d.x,d.y);for(e=1;e<=d.y;e++)for(b=1;b<=d.x;b++)f[b][e]=new Point(h[b][e].x,h[b][e].y)}var i=new Point(d.x,d.y);d.x=g;d.y=c;q=0;t=d.x-1|d.y-1<<8;h=[];h.InitTwoDimensions(d.x,d.y);for(e=1;e<=d.y;e++)for(b=1;b<=d.x;b++)h[b][e]=new Point(32,7);if(f!==null)for(e=1;e<=Math.min(d.y,i.y);e++)for(b=1;b<=Math.min(d.x,i.x);b++)a.FastWrite(String.fromCharCode(f[b][e].x),b,
e,f[b][e].y);b=document.createEvent("Events");b.initEvent(a.SCREEN_SIZE_CHANGED,!0,!1);m.dispatchEvent(b)}};this.ShowCursor=function(){o.Visible=!0};this.__defineGetter__("TextAttr",function(){return i});this.__defineSetter__("TextAttr",function(a){i=a});this.TextBackground=function(a){i=l?i&143|(a&7)<<4:i&15|(a&15)<<4};this.TextColor=function(a){i=i&240|a&15};this.WhereX=function(){return o.Position.x};this.WhereXA=function(){return a.WhereX()+a.WindMinX};this.WhereY=function(){return o.Position.y};
this.WhereYA=function(){return a.WhereY()+a.WindMinY};this.__defineGetter__("WindCols",function(){return a.WindMaxX-a.WindMinX+1});this.__defineGetter__("WindMax",function(){return t});this.__defineGetter__("WindMaxX",function(){return a.WindMax&255});this.__defineGetter__("WindMaxY",function(){return(a.WindMax&65280)>>8});this.__defineGetter__("WindMin",function(){return q});this.__defineGetter__("WindMinX",function(){return a.WindMin&255});this.__defineGetter__("WindMinY",function(){return(a.WindMin&
65280)>>8});this.Window=function(b,c,g,e){if(b>0&&c>0&&b<=g&&c<=e&&g<=d.x&&e<=d.y)q=b-1+(c-1<<8),t=g-1+(e-1<<8),o.WindowOffset=new Point(b-1,c-1),a.GotoXY(1,1)};this.__defineGetter__("WindRows",function(){return a.WindMaxY-a.WindMinY+1});this.Write=function(g){b?a.WriteATASCII(g):a.WriteASCII(g)};this.WriteASCII=function(b){b===void 0&&(b="");var c=a.WhereX(),g=a.WhereY(),e="",d;for(d=0;d<b.length;d++){var f=!1;b.charCodeAt(d)===7?a.Beep():b.charCodeAt(d)===8?(a.FastWrite(e,a.WhereXA(),a.WhereYA(),
i),c+=e.length,c>1&&(c-=1),f=!0,e=""):b.charCodeAt(d)===9?(a.FastWrite(e,a.WhereXA(),a.WhereYA(),i),c+=e.length,e="",c===a.WindCols?(c=1,g+=1):c+=8-c%8,f=!0):b.charCodeAt(d)===10?(a.FastWrite(e,a.WhereXA(),a.WhereYA(),i),c+=e.length,g+=1,f=!0,e=""):b.charCodeAt(d)===12?(a.ClrScr(),g=c=1,e=""):b.charCodeAt(d)===13?(a.FastWrite(e,a.WhereXA(),a.WhereYA(),i),c=1,f=!0,e=""):b.charCodeAt(d)!==0&&(e+=String.fromCharCode(b.charCodeAt(d)&255),c+e.length>a.WindCols&&(a.FastWrite(e,a.WhereXA(),a.WhereYA(),i),
e="",c=1,g+=1,f=!0));if(g>a.WindRows)g=a.WindRows,a.ScrollUpWindow(1),f=!0;f&&a.GotoXY(c,g)}e.length>0&&(a.FastWrite(e,a.WhereXA(),a.WhereYA(),i),c+=e.length,a.GotoXY(c,g))};this.WriteATASCII=function(b){b===void 0&&(b="");var c=a.WhereX(),g=a.WhereY(),d="",f;for(f=0;f<b.length;f++){trace(b.charCodeAt(f));var h=!1;b.charCodeAt(f)===27&&!e?e=!0:b.charCodeAt(f)===28&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,g=g>1?g-1:a.WindRows,h=!0,d=""):b.charCodeAt(f)===29&&!e?(a.FastWrite(d,a.WhereXA(),
a.WhereYA(),i),c+=d.length,g=g<a.WindRows?g+1:1,h=!0,d=""):b.charCodeAt(f)===30&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,c=c>1?c-1:a.WindCols,h=!0,d=""):b.charCodeAt(f)===31&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,c=c<a.WindCols?c+1:1,h=!0,d=""):b.charCodeAt(f)===125&&!e?(a.ClrScr(),g=c=1,d=""):b.charCodeAt(f)===126&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,d="",h=!0,c>1&&(c-=1,a.FastWrite(" ",c,a.WhereYA(),i))):b.charCodeAt(f)===127&&!e?(a.FastWrite(d,
a.WhereXA(),a.WhereYA(),i),c+=d.length,d="",c===a.WindCols?(c=1,g+=1):c+=8-c%8,h=!0):b.charCodeAt(f)===155&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c=1,g+=1,h=!0,d=""):b.charCodeAt(f)===156&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c=1,d="",a.GotoXY(c,g),a.DelLine()):b.charCodeAt(f)===157&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c=1,d="",a.GotoXY(c,g),a.InsLine()):b.charCodeAt(f)===253&&!e?a.Beep():b.charCodeAt(f)===254&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,d="",
a.GotoXY(c,g),a.DelChar()):b.charCodeAt(f)===255&&!e?(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,d="",a.GotoXY(c,g),a.InsChar()):(d+=b.charCodeAt(f)===0&&j===13?"":String.fromCharCode(b.charCodeAt(f)&255),e=!1,j=b.charCodeAt(f),c+d.length>a.WindCols&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),d="",c=1,g+=1,h=!0));if(g>a.WindRows)g=a.WindRows,a.ScrollUpWindow(1),h=!0;h&&a.GotoXY(c,g)}d.length>0&&(a.FastWrite(d,a.WhereXA(),a.WhereYA(),i),c+=d.length,a.GotoXY(c,g))};this.WriteLn=function(b){b===
void 0&&(b="");a.Write(b+"\r\n")}},Crt=new TCrt,AnsiParserState=0,TAnsiParserState=function(){this.None=0;this.Escape=1;this.Bracket=2},AnsiParserState=new TAnsiParserState,ESCQEvent=function(a,b,e){this.CodePage=a;this.Width=b;this.Height=e},Ansi=0,TAnsi=function(){this.onesc5n=function(){};this.onesc6n=function(){};this.onesc255n=function(){};this.onescQ=function(){};var a=[0,4,2,6,1,5,3,7],b=this,e,l,f,h,m;this.ClrBol=function(){return"\u001b[1K"};this.ClrBos=function(){return"\u001b[1J"};this.ClrEol=
function(){return"\u001b[K"};this.ClrEos=function(){return"\u001b[J"};this.ClrLine=function(){return"\u001b[2K"};this.ClrScr=function(){return"\u001b[2J"};this.CursorDown=function(a){return a===1?"\u001b[B":"\u001b["+a.toString()+"B"};this.CursorLeft=function(a){return a===1?"\u001b[D":"\u001b["+a.toString()+"D"};this.CursorPosition=function(a,b){a===void 0&&(a=Crt.WhereYA());b===void 0&&(b=Crt.WhereXA());return"\u001b["+a+";"+b+"R"};this.CursorRestore=function(){return"\u001b[u"};this.CursorRight=
function(a){return a===1?"\u001b[C":"\u001b["+a.toString()+"C"};this.CursorSave=function(){return"\u001b[s"};this.CursorUp=function(a){return a===1?"\u001b[A":"\u001b["+a.toString()+"A"};this.GotoX=function(a){return a===1?b.CursorLeft(255):b.CursorLeft(255)+b.CursorRight(a-1)};this.GotoXY=function(a,b){return"\u001b["+b.toString()+";"+a.toString()+"H"};this.GotoY=function(a){return a===1?b.CursorUp(255):b.CursorUp(255)+b.CursorDown(a-1)};this.TextAttr=function(a){return b.TextColor(a%16)+b.TextBackground(Math.floor(a/
16))};this.TextBackground=function(b){for(;b>=8;)b-=8;return"\u001b["+(40+a[b]).toString()+"m"};this.TextColor=function(e){switch(e%16){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:return"\u001b[0;"+(30+a[e%16]).toString()+"m"+b.TextBackground(Crt.TextAttr/16);case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return"\u001b[1;"+(30+a[e%16-8]).toString()+"m"}return""};this.Write=function(n){if(Crt.Atari)Crt.Write(n);else{var o="",g;for(g=0;g<n.length;g++)if(n.charAt(g)==="\u001b")h=
AnsiParserState.Escape;else if(h===AnsiParserState.Escape&&n.charAt(g)==="["){h=AnsiParserState.Bracket;for(l="0";f.length>0;)f.pop()}else if(h===AnsiParserState.Bracket)if("0123456789".indexOf(n.charAt(g))!==-1)l+=n.charAt(g);else if(n.charAt(g)===";")f.push(l),l="0";else{if("?=<> \r\n".indexOf(n.charAt(g))===-1){Crt.Write(o);o="";f.push(l);var p=n.charAt(g),j=0,d=j=0,i=0;switch(p){case "A":d=Math.max(1,parseInt(f.shift(),10));d=Math.max(1,Crt.WhereY()-d);Crt.GotoXY(Crt.WhereX(),d);break;case "B":d=
Math.max(1,parseInt(f.shift(),10));d=Math.min(Crt.WindRows,Crt.WhereY()+d);Crt.GotoXY(Crt.WhereX(),d);break;case "C":j=Math.max(1,parseInt(f.shift(),10));j=Math.min(Crt.WindCols,Crt.WhereX()+j);Crt.GotoXY(j,Crt.WhereY());break;case "D":j=Math.max(1,parseInt(f.shift(),10));j=Math.max(1,Crt.WhereX()-j);Crt.GotoXY(j,Crt.WhereY());break;case "E":d=Math.max(1,parseInt(f.shift(),10));d=Math.min(Crt.WindRows,Crt.WhereY()+d);Crt.GotoXY(1,d);break;case "F":d=Math.max(1,parseInt(f.shift(),10));d=Math.max(1,
Crt.WhereY()-d);Crt.GotoXY(1,d);break;case "f":for(;f.length<2;)f.push("1");d=Math.max(1,parseInt(f.shift(),10));j=Math.max(1,parseInt(f.shift(),10));Crt.GotoXY(j,d);break;case "G":j=Math.max(1,parseInt(f.shift(),10));j>=1&&j<=Crt.WindCols&&Crt.GotoXY(j,Crt.WhereY());break;case "H":for(;f.length<2;)f.push("1");d=Math.max(1,parseInt(f.shift(),10));j=Math.max(1,parseInt(f.shift(),10));Crt.GotoXY(j,d);break;case "h":j=parseInt(f.shift(),10);switch(j){case 7:break;case 25:Crt.ShowCursor();break;default:trace("ANSI Escape "+
j+"h is not implemented")}break;case "J":switch(parseInt(f.shift(),10)){case 0:Crt.ClrEos();break;case 1:Crt.ClrBos();break;case 2:Crt.ClrScr()}break;case "K":switch(parseInt(f.shift(),10)){case 0:Crt.ClrEol();break;case 1:Crt.ClrBol();break;case 2:Crt.ClrLine()}break;case "L":d=Math.max(1,parseInt(f.shift(),10));Crt.InsLine(d);break;case "l":j=parseInt(f.shift(),10);switch(j){case 7:break;case 25:Crt.HideCursor();break;default:trace("ANSI Escape "+j+"l is not implemented")}break;case "M":d=Math.max(1,
parseInt(f.shift(),10));Crt.DelLine(d);break;case "m":for(;f.length>0;)switch(j=parseInt(f.shift(),10),j){case 0:Crt.NormVideo();break;case 1:Crt.HighVideo();break;case 5:Crt.TextAttr|=Crt.BLINK;Crt.SetBlinkRate(500);break;case 6:Crt.TextAttr|=Crt.BLINK;Crt.SetBlinkRate(250);break;case 7:Crt.ReverseVideo();break;case 8:e=Crt.TextAttr;Crt.Conceal();break;case 22:Crt.LowVideo();break;case 25:Crt.TextAttr&=~Crt.BLINK;break;case 27:Crt.ReverseVideo();break;case 28:Crt.TextAttr=e;break;case 30:case 31:case 32:case 33:case 34:case 35:case 36:case 37:j=
a[j-30];Crt.TextAttr%16>7&&(j+=8);Crt.TextColor(j);break;case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:j=a[j-40],Crt.TextBackground(j)}break;case "n":j=parseInt(f.shift(),10);switch(j){case 5:b.onesc5n();break;case 6:b.onesc6n();break;case 255:b.onesc255n();break;default:trace("ANSI Escape "+j+"n is not implemented")}break;case "Q":for(;f.length<3;)f.push("0");j=parseInt(f.shift(),10);d=parseInt(f.shift(),10);i=parseInt(f.shift(),10);b.onescQ(new ESCQEvent(j,d,i));break;case "S":d=
Math.max(1,parseInt(f.shift(),10));Crt.ScrollUpScreen(d);break;case "s":m=new Point(Crt.WhereX(),Crt.WhereY());break;case "T":d=Math.max(1,parseInt(f.shift(),10));Crt.ScrollDownWindow(d);break;case "u":Crt.GotoXY(m.x,m.y);break;default:trace("Unknown ESC sequence: "+p+" ("+f.toString()+")")}h=AnsiParserState.None}}else o+=n.charAt(g);Crt.Write(o)}};e=7;l="0";f=[];h=AnsiParserState.None;m=new Point(1,1)},Ansi=new TAnsi,TTelnet=function(){this.onclose=function(){};this.onconnect=function(){};this.onioerror=
function(){};this.onsecurityerror=function(){};var a=this,b,e,l=!1,f,h=function(){},m=function(){},n=function(){},o=function(){};this.__defineGetter__("bytesAvailable",function(){return b.bytesAvailable});this.close=function(){f&&f.close()};this.connect=function(b,e){try{l=!1,f=new WebSocket("ws://"+b+":"+e)}catch(j){try{f=new MozWebSocket("ws://"+b+":"+e)}catch(d){a.onsecurityerror();return}}f.onclose=h;f.onerror=m;f.onmessage=o;f.onopen=n};this.__defineGetter__("connected",function(){return f?f.readyState===
f.OPEN:!1});this.flush=function(){f.send(e.toString());e.clear()};h=function(){if(l)a.onclose();else a.onsecurityerror();l=!1};m=function(b){a.onioerror(b)};n=function(){l=!0;a.onconnect()};o=function(a){b.bytesAvailable===0&&b.clear();var e=b.position;b.position=b.length;b.writeString(a.data);b.position=e};this.readBoolean=function(){return b.readBoolean()};this.readByte=function(){return b.readByte()};this.readBytes=function(a,e,f){return b.readBytes(a,e,f)};this.readDouble=function(){return b.readDouble()};
this.readFloat=function(){return b.readFloat()};this.readInt=function(){return b.readInt()};this.readMultiByte=function(a,e){return b.readMultiByte(a,e)};this.readObject=function(){return b.readObject()};this.readShort=function(){return b.readShort()};this.readString=function(g){for(var e="",f=0;a.bytesAvailable&&(g===0||f++<g);)e+=String.fromCharCode(b.readUnsignedByte());return e};this.readUnsignedByte=function(){return b.readUnsignedByte()};this.readUnsignedInt=function(){return b.readUnsignedInt()};
this.readUnsignedShort=function(){return b.readUnsignedShort()};this.readUTF=function(){return b.readUTF()};this.readUTFBytes=function(a){return b.readUTFBytes(a)};this.writeBoolean=function(a){e.writeBoolean(a)};this.writeByte=function(a){e.writeByte(a)};this.writeBytes=function(a,b,f){e.writeBytes(a,b,f)};this.writeDouble=function(a){e.writeDouble(a)};this.writeFloat=function(a){e.writeFloat(a)};this.writeInt=function(a){e.writeInt(a)};this.writeMultiByte=function(a,b){e.writeMultiByte(a,b)};this.writeObject=
function(a){e.writeObject(a)};this.writeShort=function(a){e.writeShort(a)};this.writeString=function(b){var e;for(e=0;e<b.length;e++)a.writeByte(b.charCodeAt(e));a.flush()};this.writeUnsignedInt=function(a){e.writeUnsignedInt(a)};this.writeUTF=function(a){e.writeUTF(a)};this.writeUTFBytes=function(a){e.writeUTFBytes(a)};b=new ByteArray;e=new ByteArray},HtmlTerm=function(){},THtmlTerm=function(){var a=0,b=0,e=0,l=0,f=!1,h=0,m=!1,n=115200,o=!0,g="437",p="connect.ans",j="\r",d=16,i=9,q="",t=11235,r=
80,z=25,x="",y="fTelnet and HtmlTerm Support BBS",u="bbs.ftelnet.ca",v=1123,w=function(){},k=function(){},c=function(){},s=function(){},G=function(){},H=function(){},I=function(){},A=function(){},J=function(){},C=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){},D=function(){},P=function(){},E=function(){},F=function(){},Q=function(){},R=function(){},B=function(){},S=function(){};this.Init=function(j,k){if(document.getElementById(j)===null)return trace('HtmlTerm Error: Your document is missing the required element with id="'+
j+'"'),!1;e=document.getElementById(j);if(navigator.appName==="Microsoft Internet Explorer"){var l=-1;/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(navigator.userAgent)!==null&&(l=parseFloat(RegExp.$1));if(l<9)return trace("HtmlTerm Error: IE less than 9.0 found"),!1}c(k);R();h=setInterval(F,50);if(Crt.Init(e)){Crt.Blink=o;Crt.SetFont(g,i,d);Crt.SetScreenSize(r,z);Crt.Canvas.addEventListener(Crt.FONT_CHANGED,N,!1);Crt.Canvas.addEventListener(Crt.SCREEN_SIZE_CHANGED,O,!1);Crt.Canvas.x=(0).LeftWidth;Crt.Canvas.y=
(0).TopHeight;if(typeof WebSocket==="undefined"&&typeof MozWebSocket==="undefined")return Crt.WriteLn("Sorry, your browser doesn't support the WebSocket API"),Crt.WriteLn(),Crt.WriteLn("When this version of HtmlTerm was released, WebSocket was implemented in:"),Crt.WriteLn("    Chrome 4"),Crt.WriteLn("    Firefox 4 *"),Crt.WriteLn("    Internet Explorer 10 Developer Preview"),Crt.WriteLn("    Opera 10.70 **"),Crt.WriteLn("    Safari 5"),Crt.WriteLn(),Crt.WriteLn("* WebSockets are disabled by default in FireFox 4 and 5."),
Crt.WriteLn('  Enable them by changing this setting in "about:config":'),Crt.WriteLn("    network.websocket.enabled = true"),Crt.WriteLn("    network.websocket.override-security-block = true"),Crt.WriteLn("  As of Firefox 6 this change is no longer required"),Crt.WriteLn(),Crt.WriteLn("** WebSockets are disabled by default in Opera."),Crt.WriteLn('   Enable them by changing this setting in "opera:config":'),Crt.WriteLn("     User Prefs -> Enable WebSockets = checked"),trace("HtmlTerm Error: WebSocket not supported"),
!1;b=new TTelnet;b.onclose=C;b.onconnect=K;b.onioerror=L;b.onsecurityerror=M;a=new TConnectButton;e.appendChild(a.Image);a.ongraphicchanged=J;w();Ansi.onesc5n=s;Ansi.onesc6n=G;Ansi.onesc255n=H;Ansi.onescQ=I;if(m)A("AutoConnect");else{B();Crt.Canvas.style.opacity=1;l=new XMLHttpRequest;try{l.open("GET",p,!0),l.onreadystatechange=function(){try{this.readyState===4&&(this.status===200?this.responseText===""?Ansi.Write(ConnectAns):Ansi.Write(this.responseText):Ansi.Write(ConnectAns))}catch(a){Ansi.Write(ConnectAns)}},
l.overrideMimeType&&l.overrideMimeType("text/plain; charset=x-user-defined"),l.send(null)}catch(n){Ansi.Write(ConnectAns)}}}else trace("HtmlTerm Error: Unable to init Crt");return f=!0};w=function(){a.Center(Crt.Canvas)};k=function(){(0).Center(Crt.Canvas)};this.Connect=function(a,c){b!==null&&b.connected||(u=a,v=c,A("EIConnect"))};this.Connected=function(){return b===null?!1:b.connected};this.Disconnect=function(){b!==null&&b.connected&&(b.close(),C("Disconnect"))};this.__defineGetter__("Loaded",
function(){return f});c=function(a){if(a!==void 0){if(a.AutoConnect!==void 0)m=a.AutoConnect;if(a.BitsPerSecond!==void 0)n=a.BitsPerSecond;if(a.Blink!==void 0)o=a.Blink;if(a.CodePage!==void 0)g=a.CodePage;if(a.ConnectAnsi!==void 0)p=a.ConnectAnsi;if(a.Enter!==void 0)j=a.Enter;if(a.FontHeight!==void 0)d=a.FontHeight;if(a.FontWidth!==void 0)i=a.FontWidth;if(a.ProxyWebSocketHostName!==void 0)q=a.ProxyWebSocketHostName;if(a.ProxyWebSocketPort!==void 0)t=a.ProxyWebSocketPort;if(a.ScreenColumns!==void 0)r=
a.ScreenColumns;if(a.ScreenRows!==void 0)z=a.ScreenRows;if(a.SendOnConnect!==void 0)x=a.SendOnConnect;if(a.ServerName!==void 0)y=a.ServerName;if(a.WebSocketHostName!==void 0)u=a.WebSocketHostName;if(a.WebSocketPort!==void 0)v=a.WebSocketPort;g.indexOf("ATASCII")===0?(Crt.Atari=!0,d=16,i=g.indexOf("HalfWidth")===-1?16:8):g.indexOf("BStrict")===0?i=d=8:g.indexOf("BStruct")===0?i=d=8:g.indexOf("MicroKnight")===0?i=d=8:g.indexOf("MoSoul")===0?i=d=8:g.indexOf("PotNoodle")===0?(d=8,i=11):g.indexOf("TopazPlus")===
0?(d=8,i=11):g.indexOf("Topaz")===0&&(d=8,i=11)}};s=function(){b.writeString("\u001b[0n")};G=function(){b.writeString(Ansi.CursorPosition())};H=function(){b.writeString(Ansi.CursorPosition(Crt.ScreenRows,Crt.ScreenCols))};I=function(a){Crt.SetFont(a.CodePage,a.Width,a.Height)};A=function(){Crt.Canvas.style.opacity=1;Crt.ShowCursor();a.Image.removeEventListener("click",A,!1);a.Hide();m=!1;Crt.NormVideo();Crt.ClrScr();q===""?(Crt.WriteLn("Connecting to "+y+" ("+u+":"+v+")"),b.connect(u,v)):(Crt.WriteLn("Connecting to "+
y+" ("+u+":"+v+") via proxy"),b.connect(q,t))};J=function(){w()};C=function(){B()};K=function(){Crt.ClrScr();q!==""&&b.writeString(u+":"+v+"\r");x.length>0&&b.writeString(x)};L=function(){trace("HtmlTerm.OnConnectionIOError")};M=function(){Crt.WriteLn("Unable to connect...");B()};N=function(){w();k()};O=function(){w();k()};D=function(){h=setInterval(F,50);(0).removeEventListener("TRANSFER_COMPLETE",D,!1);(0).FileCount>0&&S()};P=function(){b!==null&&b.connected&&(clearInterval(h),(0).addEventListener("TRANSFER_COMPLETE",
D,!1),(0).Download())};E=function(){if(0!==null&&(0).FileCount!==0){var a=new FileReference;if((0).FileCount===1)a.save((0).FileAt(0).data,(0).FileAt(0).name);else if((0).FileCount>1){for(var b=0,c=0,e=new ByteArray,b=0;b<(0).FileCount;b++){for(var d=new ByteArray,f=(0).FileAt(b).name,c=0;c<100;c++)c<f.length?d.writeByte(f.charCodeAt(c)):d.writeByte(0);for(c=0;c<8;c++)d.writeByte(0);for(c=0;c<8;c++)d.writeByte(0);for(c=0;c<8;c++)d.writeByte(0);f=(0).FileAt(b).data.length.toString(8);for(c=0;c<11-
f.length;c++)d.writeByte("0".charCodeAt(0));for(c=0;c<f.length;c++)d.writeByte(f.charCodeAt(c));d.writeByte(0);for(c=0;c<11;c++)d.writeByte(0);d.writeByte(0);for(c=0;c<8;c++)d.writeByte(32);d.writeByte("0".charCodeAt(0));for(c=0;c<100;c++)d.writeByte(0);for(c=0;c<255;c++)d.writeByte(0);for(c=f=d.position=0;c<512;c++)f+=d.readUnsignedByte();e.writeBytes(d,0,148);f=f.toString(8);for(c=0;c<6-f.length;c++)e.writeByte("0".charCodeAt(0));for(c=0;c<f.length;c++)e.writeByte(f.charCodeAt(c));e.writeByte(0);
e.writeByte(32);e.writeBytes(d,156,356);e.writeBytes((0).FileAt(b).data);if((0).FileAt(b).data.length%512!==0)for(c=0;c<512-(0).FileAt(b).data.length%512;c++)e.writeByte(0)}for(b=0;b<1024;b++)e.writeByte(0);a.save(e,"fTelnet-BatchDownload.tar")}(0).removeEventListener("click",E,!1);(0).Hide();Crt.Canvas.style.opacity=1}};F=function(){if(b.connected){var a=(new Date).getTime()-l;a<1&&(a=1);a=Math.floor(n/8/(1E3/a));a<1&&(a=1);a=b.readString(a);for(a.length>0&&Ansi.Write(a);Crt.KeyPressed();)a=Crt.ReadKey(),
a!==null&&(a.ctrlKey&&a.keyCode===Keyboard.PAGE_DOWN?P():a.ctrlKey&&a.keyCode===Keyboard.PAGE_UP?Q():a.keyString.length>0&&(a.keyString==="\r\n"?b.writeString(j):b.writeString(a.keyString)))}l=(new Date).getTime()};Q=function(){};this.SetBorderStyle=function(){Crt.Canvas.x=(0).LeftWidth;Crt.Canvas.y=(0).TopHeight;w();k()};R=function(){};B=function(){Crt.Canvas.style.opacity=0.4;Crt.HideCursor();a.Image.addEventListener("click",A,!1);a.Show()};S=function(){Crt.Canvas.style.opacity=0.4;(0).addEventListener("click",
E,!1);(0).Show()}},HtmlTerm=new THtmlTerm;
